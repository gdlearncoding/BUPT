> 如果你的程序需要的数据是存储在 CPU 寄存器中的，那么在指令的执行期间，在 0个周期内就能访问到它们。如果存储在高速缓存中，需要 4〜75 个周期。如果存储在主存中，需要上百个周期。而如果存储在磁盘上，需要大约几千万个周期！

## 存储技术

### RAM 随机访问寄存器

SRAM(静态)vs. DRAM(动态)

![image-20230222211223586](%E5%82%A8%E5%AD%98%E5%99%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.assets/image-20230222211223586.png)

#### SRAM(静态)

将每个位存储在一个==双稳态==存储器单元,如同倒钟摆

![image-20230222210937421](%E5%82%A8%E5%AD%98%E5%99%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.assets/image-20230222210937421.png)

原则上，钟摆也能在垂直的位置无限期地保持平衡，但是这个状态是亚稳态的(metastable)最细微的扰动也能使它倒下，而且一旦倒下就永远不会再恢复到垂直的位置

由于 SRAM 存储器单元的双稳态特性，只要有电，它就会永远地保持它的值。即使有干扰（例如电子噪音)来扰乱电压，当干扰消除时，电路就会恢复到稳定值

#### DRAM

DRAM 存储器单元对干扰非常敏感。当电容的电压被扰乱之后，它就永远不会恢复了。暴露在光线下会导致电容电压改变。

#### 传统的DRAM

结构:

<img src="%E5%82%A8%E5%AD%98%E5%99%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.assets/image-20230222211637172.png" alt="image-20230222211637172" style="zoom:50%;" />

![image-20230222212157353](%E5%82%A8%E5%AD%98%E5%99%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.assets/image-20230222212157353.png)

读取方式:

<img src="%E5%82%A8%E5%AD%98%E5%99%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.assets/image-20230222212455476.png" alt="image-20230222212455476" style="zoom:50%;" />

设计成二维阵列降低了芯片上地址引脚数目,但增加了访问时间

#### 内存模块

将DRAM封装,每个超单元存储主存的一个字节,在内存控制器控制下聚合成主存

![image-20230222213115548](%E5%82%A8%E5%AD%98%E5%99%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.assets/image-20230222213115548.png)

### 磁盘存储

#### 构造

<img src="%E5%82%A8%E5%AD%98%E5%99%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.assets/image-20230222215215706.png" alt="image-20230222215215706" style="zoom: 50%;" />

磁盘驱动器(磁盘)-> 盘片-> 盘面表面-> 磁道-> 扇区和间隙

#### 容量

![image-20230222215723641](%E5%82%A8%E5%AD%98%E5%99%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.assets/image-20230222215723641.png)

![image-20230222215737995](%E5%82%A8%E5%AD%98%E5%99%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.assets/image-20230222215737995.png)

这里的1GB=10^9^字节，1TB=10^12^字节

#### 磁盘操作

寻道

![image-20230222215925323](%E5%82%A8%E5%AD%98%E5%99%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.assets/image-20230222215925323.png)

访问时间=寻道时间+ 旋转时间+传送时间

![image-20230222221606499](%E5%82%A8%E5%AD%98%E5%99%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.assets/image-20230222221606499.png)

逻辑上在磁盘控制器下分成一个B 个扇区大小的逻辑块的序列,维护着逻辑块号和实际（物理）磁盘扇区之间的映射关系,具体读写操作:

![image-20230222221744826](%E5%82%A8%E5%AD%98%E5%99%A8%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84.assets/image-20230222221744826.png)